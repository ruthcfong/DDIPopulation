# Populate DDI XML
By the 2014 [Tech in the World](www.techintheworld.org) fellows in partnership with [Ifakara Health Institute](ihi.or.tz).

## Description
The populate_DDI_XML.py script takes two inputs:

1. An Excel file used to generate an ODK form by using the [XLSForm](opendatakit.org/help/form-design/xlsform/) tool.
2. An XML file generated by Nesstar Publisher after starting a new project and importing a data set.

## Installation
### Python Installation
Check if you have Python installed by running `python --version`.

If you don't have Python installed, install Python 2.7.6 from [here](http://www.python.org/download/releases/2.7.6/).

After installing python, check that it's in your path by running `python --version` again. If it can't find python, add python to your bin by either
* Adding the following lines to your .bash_profile:
`PATH="/path/to/python/bin:${PATH}"`
`export PATH`
* Running `export PATH=$PATH:/path/to/python/bin`.

### pip and virtualenv Installation
* Install pip from [here](http://www.pip-installer.org/en/latest/installing.html).
* Install virtualenv by running `pip install virtualenv`.

### Installing dependencies in virtualenv
* Create a virtual environment called `venv` by running `virtualenv venv` inside the top-level directory of this project.
* Activate your virtual environment by typing `source venv/bin/activate`.
* Install the needed dependencies by running `pip install -r requirements.txt` (this installs all the packages in requirements.txt).

## Running the script
Run `python populate_DDI_XML.py /path/of/excel/file /path/of/XML/file [/path/of/output/file]`, where /path/of/output/file is optional.

For example, you can run `python populate_DDI_XML.py example/example_excel.xlsx example/example_xml.xml` and the output XML file `output_example_xml.xml` will be created in the current directory.